/*
* sPreLoader - jQuery plugin
* Name:         sPreLoader.js
* Author:       Siful Islam - http://www.getsiful.com
* Version:      1.0
*/

!function(e){var r=new Array,n=new Array,t=function(){},a=0,i={preMainSection:"#tx-main-preloader",prePerText:".tx-preloader-percentage-text",preBar:".tx-preloader-bar",showPercentage:!0,debugMode:0,splashFunction:function(){}},o=function(r){var t=new Image;e(t).load(function(){c()}).error(function(){n.push(e(this).attr("src")),c()}).attr("src",r)},c=function(){a++;var n=Math.round(a/r.length*100);if(e(jBar).stop().animate({width:n+"%"},500,"linear"),i.showPercentage&&e(jPer).text(n),a>=r.length){if(a=r.length,i.debugMode)u();f()}},f=function(){e(jBar).stop().animate({width:"100%"},500,"linear",function(){e(jOverlay).fadeOut(800,function(){t()})})},u=function(){if(n.length>0){n.length+" image files cound not be found. \n\r","Please check your image paths and filenames:\n\r";for(var e=0;e<n.length;e++)"- "+n[e]+"\n\r";return!0}return!1};e.fn.jpreLoader=function(n,a){return n&&e.extend(i,n),"function"==typeof a&&(t=a),jOverlay=e(i.preMainSection),jBar=jOverlay.find(i.preBar),jPer=jOverlay.find(i.prePerText),e(this).find("*:not(script)").each(function(){var n="";if(-1==e(this).css("background-image").indexOf("none")){if(-1!=(n=e(this).css("background-image")).indexOf("url")){var t=n.match(/url\((.*?)\)/);n=t[1].replace(/\"/g,"")}}else"img"==e(this).get(0).nodeName.toLowerCase()&&void 0!==e(this).attr("src")&&(n=e(this).attr("src"));n.length>0&&r.push(n)}),function(){for(var e=0;e<r.length;e++)o(r[e])}(),this},e("body").jpreLoader({preMainSection:"#tx-main-preloader",prePerText:".tx-preloader-percentage-text",preBar:".tx-preloader-bar"})}(jQuery);
